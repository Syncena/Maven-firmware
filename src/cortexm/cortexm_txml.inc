/*
 * Copyright (c) 2022, Steve C. Woodford.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifdef CORTEXM_TXML_DEFINITIONS

#define	CORTEXM_FEATURE_BASELINE	(1u << 0)
#define	CORTEXM_FEATURE_MAINLINE	(1u << 1)
#define	CORTEXM_FEATURE_VFP		(1u << 2)
#define	CORTEXM_FEATURE_SECURITY	(1u << 3)
#define	CORTEXM_FEATURE_SEC_SDE1	(1u << 4)

#define	CORTEXM_XML_SHIFT(x)		(((x) >> 6) & 0x3u)
#define	CORTEXM_XML_SHIFT_0		(0u << 6)
#define	CORTEXM_XML_SHIFT_8		(1u << 6)
#define	CORTEXM_XML_SHIFT_16		(2u << 6)
#define	CORTEXM_XML_SHIFT_24		(3u << 6)

#define	CORTEXM_XML_CLASS(x)		(((x) >> 8) & 3u)
#define	CORTEXM_XML_CLASS_PROFILE	(0u << 8)
#define	CORTEXM_XML_CLASS_SYSTEM	(1u << 8)
#define	CORTEXM_XML_CLASS_VFP		(2u << 8)

#define	CORTEXM_XML_TYPE(x)		(((x) >> 10) & 7u)
#define	CORTEXM_XML_TYPE_DATA		(0u << 10)
#define	CORTEXM_XML_TYPE_CODE		(1u << 10)
#define	CORTEXM_XML_TYPE_INT8		(2u << 10)
#define	CORTEXM_XML_TYPE_DOUBLE		(3u << 10)
#define	CORTEXM_XML_TYPE_NONE		(4u << 10)

#define	CORTEXM_XML_BITS(x)		(((x) >> 13) & 7u)
#define	CORTEXM_XML_BITS_1		(0u << 13)
#define	CORTEXM_XML_BITS_2		(1u << 13)
#define	CORTEXM_XML_BITS_8		(2u << 13)
#define	CORTEXM_XML_BITS_32		(3u << 13)
#define	CORTEXM_XML_BITS_64		(4u << 13)
#define	CORTEXM_XML_BITS_CUSTOM		(5u << 13)
#endif /* CORTEXM_TXML_DEFINITIONS */

#if defined(CORTEXM_TXML_CORE)
/*
 * Core registers available on all Cortex-M devices.
 */
CORTEXM_TXML_CORE(
		"r0",
		CORTEXM_REG_R0,
		CMSCW_DCRSR_REG_GPR(0),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r1",
		CORTEXM_REG_R1,
		CMSCW_DCRSR_REG_GPR(1),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r2",
		CORTEXM_REG_R2,
		CMSCW_DCRSR_REG_GPR(2),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r3",
		CORTEXM_REG_R3,
		CMSCW_DCRSR_REG_GPR(3),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r4",
		CORTEXM_REG_R4,
		CMSCW_DCRSR_REG_GPR(4),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r5",
		CORTEXM_REG_R5,
		CMSCW_DCRSR_REG_GPR(5),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r6",
		CORTEXM_REG_R6,
		CMSCW_DCRSR_REG_GPR(6),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r7",
		CORTEXM_REG_R7,
		CMSCW_DCRSR_REG_GPR(7),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r8",
		CORTEXM_REG_R8,
		CMSCW_DCRSR_REG_GPR(8),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r9",
		CORTEXM_REG_R9,
		CMSCW_DCRSR_REG_GPR(9),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r10",
		CORTEXM_REG_R10,
		CMSCW_DCRSR_REG_GPR(10),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r11",
		CORTEXM_REG_R11,
		CMSCW_DCRSR_REG_GPR(11),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"r12",
		CORTEXM_REG_R12,
		CMSCW_DCRSR_REG_GPR(12),
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"sp",
		CORTEXM_REG_SP,
		CMSCW_DCRSR_REG_SP,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_DATA |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"lr",
		CORTEXM_REG_LR,
		CMSCW_DCRSR_REG_LR,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_CODE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"pc",
		CORTEXM_REG_PC,
		CMSCW_DCRSR_REG_PC,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_CODE |
					   CORTEXM_XML_CLASS_PROFILE
	)
CORTEXM_TXML_CORE(
		"xpsr",
		CORTEXM_REG_XPSR,
		CMSCW_DCRSR_REG_xPSR,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_PROFILE
	)

/*
 * VFP registers. As far as I'm aware, these are available on mainline
 * devices only.
 */
CORTEXM_TXML_CORE(
		"d0",
		CORTEXM_REG_VFP_D0,
		CMSCW_DCRSR_REG_FPR(0),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d1",
		CORTEXM_REG_VFP_D1,
		CMSCW_DCRSR_REG_FPR(2),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d2",
		CORTEXM_REG_VFP_D2,
		CMSCW_DCRSR_REG_FPR(4),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d3",
		CORTEXM_REG_VFP_D3,
		CMSCW_DCRSR_REG_FPR(6),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d4",
		CORTEXM_REG_VFP_D4,
		CMSCW_DCRSR_REG_FPR(8),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d5",
		CORTEXM_REG_VFP_D5,
		CMSCW_DCRSR_REG_FPR(10),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d6",
		CORTEXM_REG_VFP_D6,
		CMSCW_DCRSR_REG_FPR(12),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d7",
		CORTEXM_REG_VFP_D7,
		CMSCW_DCRSR_REG_FPR(14),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d8",
		CORTEXM_REG_VFP_D8,
		CMSCW_DCRSR_REG_FPR(16),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d9",
		CORTEXM_REG_VFP_D9,
		CMSCW_DCRSR_REG_FPR(18),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d10",
		CORTEXM_REG_VFP_D10,
		CMSCW_DCRSR_REG_FPR(20),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d11",
		CORTEXM_REG_VFP_D11,
		CMSCW_DCRSR_REG_FPR(22),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d12",
		CORTEXM_REG_VFP_D12,
		CMSCW_DCRSR_REG_FPR(24),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d13",
		CORTEXM_REG_VFP_D13,
		CMSCW_DCRSR_REG_FPR(26),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d14",
		CORTEXM_REG_VFP_D14,
		CMSCW_DCRSR_REG_FPR(28),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"d15",
		CORTEXM_REG_VFP_D15,
		CMSCW_DCRSR_REG_FPR(30),
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_64 |
					   CORTEXM_XML_TYPE_DOUBLE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"fpscr",
		CORTEXM_REG_VFP_FPSCR,
		CMSCW_DCRSR_REG_FPSCR,
		CORTEXM_FEATURE_VFP	 | CORTEXM_XML_BITS_32 |
					   CORTEXM_XML_TYPE_NONE |
					   CORTEXM_XML_CLASS_VFP
	)
CORTEXM_TXML_CORE(
		"msp",
		CORTEXM_REG_MSP,
		CMSCW_DCRSR_REG_MSP,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_32 |
					   CORTEXM_XML_TYPE_DATA
	)
CORTEXM_TXML_CORE(
		"psp",
		CORTEXM_REG_PSP,
		CMSCW_DCRSR_REG_PSP,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_32 |
					   CORTEXM_XML_TYPE_DATA
	)
CORTEXM_TXML_CORE(
		"primask",
		CORTEXM_REG_PRIMASK,
		CMSCW_DCRSR_REG_CFBP,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_1 |
					   CORTEXM_XML_TYPE_INT8 |
					   CORTEXM_XML_SHIFT_0
	)
#endif /* CORTEXM_TXML_CORE */


#if defined(CORTEXM_TXML_V6M)
/*
 * Registers specific to ARMv6M
 */
CORTEXM_TXML_V6M(
		"control",
		CORTEXM_REG_V6M_CONTROL,
		CMSCW_DCRSR_REG_CFBP,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
					   CORTEXM_XML_BITS_2 |
					   CORTEXM_XML_TYPE_INT8 |
					   CORTEXM_XML_SHIFT_24
	)
#endif /* CORTEXM_TXML_V6M */


#if defined(CORTEXM_TXML_V78M)
/*
 * Registers specific to ARMv7M and ARMv8M
 */
CORTEXM_TXML_V78M(
		"control",
		CORTEXM_REG_V78M_CONTROL,
		CMSCW_DCRSR_REG_CFBP,
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_BITS_CUSTOM |
					   CORTEXM_XML_TYPE_INT8 |
					   CORTEXM_XML_SHIFT_24
	)
CORTEXM_TXML_V78M(
		"basepri",
		CORTEXM_REG_BASEPRI,
		CMSCW_DCRSR_REG_CFBP,
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_CLASS_SYSTEM |
					   CORTEXM_XML_BITS_8 |
					   CORTEXM_XML_TYPE_INT8 |
					   CORTEXM_XML_SHIFT_8
	)
CORTEXM_TXML_V78M(
		"faultmask",
		CORTEXM_REG_FAULTMASK,
		CMSCW_DCRSR_REG_CFBP,
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_CLASS_SYSTEM |
					   CORTEXM_XML_BITS_1 |
					   CORTEXM_XML_TYPE_INT8 |
					   CORTEXM_XML_SHIFT_16
	)
#endif /* CORTEXM_TXML_V78M */


#if defined(CORTEXM_TXML_V8M_NS)
/*
 * Registers specific to ARMv8M, without security extension
 */
CORTEXM_TXML_V8M_NS(
		"msplim",
		CORTEXM_REG_MSP_MSPLIM,
		CMSCW_DCRSR_REG_MSPLIM_S,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_32 |
					   CORTEXM_XML_TYPE_NONE
	)
CORTEXM_TXML_V8M_NS(
		"psplim",
		CORTEXM_REG_MSP_PSPLIM,
		CMSCW_DCRSR_REG_PSPLIM_S,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_32 |
					   CORTEXM_XML_TYPE_NONE
	)
#endif /* CORTEXM_TXML_V8M_NS */


#if defined(CORTEXM_TXML_V8M_S)
/*
 * Registers specific to ARMv8M, with security extension
 */
CORTEXM_TXML_V8M_S(
		"secure",
		CORTEXM_REG_SECURE_STATE,
		CMSCW_DCRSR_PSEUDO_REG_SECURE,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_1 |
		CORTEXM_FEATURE_SEC_SDE1 | CORTEXM_XML_TYPE_INT8
	)
CORTEXM_TXML_V8M_S(
		"msp_s",
		CORTEXM_REG_MSP_S,
		CMSCW_DCRSR_REG_MSP_S,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_SEC_SDE1 | CORTEXM_XML_TYPE_DATA
	)
CORTEXM_TXML_V8M_S(
		"msplim_s",
		CORTEXM_REG_MSPLIM_S,
		CMSCW_DCRSR_REG_MSPLIM_S,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_SEC_SDE1 | CORTEXM_XML_TYPE_NONE
	)
CORTEXM_TXML_V8M_S(
		"msp_ns",
		CORTEXM_REG_MSP_NS,
		CMSCW_DCRSR_REG_MSP_NS,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_32 |
					   CORTEXM_XML_TYPE_DATA
	)
CORTEXM_TXML_V8M_S(
		"msplim_ns",
		CORTEXM_REG_MSPLIM_NS,
		CMSCW_DCRSR_REG_MSPLIM_NS,
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_CLASS_SYSTEM |
					   CORTEXM_XML_BITS_32 |
					   CORTEXM_XML_TYPE_NONE
	)
CORTEXM_TXML_V8M_S(
		"psp_s",
		CORTEXM_REG_PSP_S,
		CMSCW_DCRSR_REG_PSP_S,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_SEC_SDE1 | CORTEXM_XML_TYPE_DATA
	)
CORTEXM_TXML_V8M_S(
		"psplim_s",
		CORTEXM_REG_PSPLIM_S,
		CMSCW_DCRSR_REG_PSPLIM_S,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_32 |
		CORTEXM_FEATURE_SEC_SDE1 | CORTEXM_XML_TYPE_NONE
	)
CORTEXM_TXML_V8M_S(
		"psp_ns",
		CORTEXM_REG_PSP_NS,
		CMSCW_DCRSR_REG_PSP_NS,
		CORTEXM_FEATURE_BASELINE | CORTEXM_XML_CLASS_SYSTEM |
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_BITS_32 |
					   CORTEXM_XML_TYPE_DATA
	)
CORTEXM_TXML_V8M_S(
		"psplim_ns",
		CORTEXM_REG_PSPLIM_NS,
		CMSCW_DCRSR_REG_PSPLIM_NS,
		CORTEXM_FEATURE_MAINLINE | CORTEXM_XML_CLASS_SYSTEM |
					   CORTEXM_XML_BITS_32 |
					   CORTEXM_XML_TYPE_NONE
	)
#endif /* CORTEXM_TXML_V8M_S */
